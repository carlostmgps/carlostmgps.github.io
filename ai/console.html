<!DOCTYPE html>
<html>

<head>
  <meta name="description" content="My first AI testing" />
  <meta charset="utf-8">
  <title>AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Carlos">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/synaptic/1.1.4/synaptic.js"></script>
</head>

<body>
<script>


const { Layer, Network } = window.synaptic;
var learningRate = .3;
function customizeNetwork(arrays){
  if (arrays.length < 2){
    console.error("customizeNetwork array is shorter than two")
    return None
  }
  input = new Layer(arrays[0]);
  output = new Layer(arrays[arrays.length - 1]);
  hiddens = [];
  for (var n = 1; n < arrays.length - 1 ; n++) {
    hiddens = hiddens.concat([
      new Layer(arrays[n])
    ]);
  }
  if (arrays.length == 2) {
    input.project(output);
  }else{
    input.project(hiddens[0]);
    for (var n2 = 0; n2 < hiddens.length - 1; n2++){
      hiddens[n2].project(hiddens[n2+1]);
    }
    output.project(hiddens[hiddens.length-1]);
  }
  networktem = new  Network({
    input: input,
    hidden: [...hiddens],
    output: output
  });
  let myobj = {
    get : function get(value){ return this.activate(value); },
    batchTrain : function batchTrain(times,vs,os){
      for (var i = 0; i < times; i++) {
        for (var n = 0; n < vs.length;n++) {
          this.activate(vs[n]);
          this.propagate(learningRate, [os[n]]);
        };
      };
    },
    train : function train(times,v,o){
      this.batchTrain(times,[v],[o]);
    },
  };
  var newnet = {
    ...networktem,
    ...myobj
  };
  return newnet
}
function get(value){ return myNetwork.activate(value); }
function batchTrain(times,vs,os){
  for (var i = 0; i < times; i++) {
    for (var n = 0; n < vs.length;n++) {
      myNetwork.activate(vs[n]);
      myNetwork.propagate(learningRate, [os[n]]);
    };
  };
}
function train(times,v,o){
  batchTrain(times,[v],[o]);
}
</script>

</body>
</html>
